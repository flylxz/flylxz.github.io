(window["webpackJsonpmoving-box"]=window["webpackJsonpmoving-box"]||[]).push([[0],[,,,,,,,,,function(e,t,o){e.exports=o(22)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(7),i=o.n(r),c=(o(14),o(1)),s=o(2),l=o(4),d=o(3),u=o(5),f=(o(15),o(8)),v=(o(16),o(17),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.movingBox.y+"px",t=this.props.movingBox.x+"px",o=this.props.boxSize-4;return a.a.createElement("div",{className:"box-01",style:{left:t,top:e,height:o,width:o}})}}]),t}(a.a.Component)),y=(o(18),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.movingBox.y+"px",t=this.props.movingBox.x+"px",o=this.props.boxSize-4;return a.a.createElement("div",{className:"box-02",style:{left:t,top:e,height:o,width:o}})}}]),t}(a.a.Component)),p=(o(19),function(e){function t(){var e,o;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).timeoutDestroy=0,o.componentDidMount=function(){o.timeoutDestroy=setTimeout(o.destroy,1e3*o.props.timeDestroy)},o.componentWillUnmount=function(){clearTimeout(o.timeoutDestroy)},o.destroy=function(){o.props.destroy(o.props.food.id)},o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.food.position.x,t=this.props.food.position.y+"px",o=e+"px",n=this.props.foodSize-4;return a.a.createElement("div",{className:"food",style:{left:o,top:t,height:n,width:n}})}}]),t}(a.a.Component)),h=(o(20),function(e){function t(){var e,o;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).restartClick=function(e){o.props.setStateRestart(!1)},o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"restart-box"},a.a.createElement("div",null,"GAME OVER"),a.a.createElement("div",{className:"button-restart",onClick:this.restartClick},"Restart"))}}]),t}(a.a.Component)),S=(o(21),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"pause"},"PAUSE")}}]),t}(a.a.Component));function k(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?k(o,!0).forEach(function(t){Object(f.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):k(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var O=function(e){function t(){var e,o;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).intervalSnake01=0,o.intervalSnake02=0,o.intervalFood=0,o.state={positionStack01:{},positionStack02:{},vector01:"",vector02:"",stateRestart:!1,gamePaused:!1,foodStack:{}},o.foodQueue=function(){var e=t.generateFood(),n=o.state.foodStack;if(o.foodOnSnake01(e,o.state.positionStack01)&&(e=t.generateFood(),o.foodOnSnake01(e,o.state.positionStack01)))return null;if(o.foodOnSnake02(e,o.state.positionStack02)&&(e=t.generateFood(),o.foodOnSnake02(e,o.state.positionStack02)))return null;if(o.foodOnFood(e,n)&&(e=t.generateFood(),o.foodOnFood(e,n)))return null;var a=Object.assign({},n);a[e.id]=e,o.setState({foodStack:a})},o.componentDidMount=function(){o.initSnake01(),o.initSnake02(),window.addEventListener("keydown",o.handleInput01,!0),window.addEventListener("keydown",o.handleInput02,!0)},o.setStateRestart=function(e){o.setState({stateRestart:e,foodStack:{}}),o.initSnake01(),o.initSnake02()},o.getRestart=function(){return o.state.stateRestart?a.a.createElement(h,{setStateRestart:o.setStateRestart}):null},o.initSnake01=function(){o.setState({positionStack01:t.startPosition01(t._cell,t.countSnake),vector01:""});var e=Math.floor(4*Math.random())+1;1===e&&o.setState({vector01:"ArrowUp"}),2===e&&o.setState({vector01:"ArrowDown"}),3===e&&o.setState({vector01:"ArrowLeft"}),4===e&&o.setState({vector01:"ArrowRight"}),o.intervalSnake01=setInterval(o.move01,500),o.intervalFood=setInterval(o.foodQueue,1e3)},o.initSnake02=function(){o.setState({positionStack02:t.startPosition02(t._cell,t.countSnake),vector02:""});var e=Math.floor(4*Math.random())+1;1===e&&o.setState({vector02:"KeyW"}),2===e&&o.setState({vector02:"KeyS"}),3===e&&o.setState({vector02:"KeyA"}),4===e&&o.setState({vector02:"KeyD"}),o.intervalSnake02=setInterval(o.move02,500)},o.snakeFeed01=function(e,t){Object.keys(t).forEach(function(n){e.x===t[n].position.x&&e.y===t[n].position.y&&(o.snakeGrow01(),delete t[n],o.setState({foodStack:t}))})},o.snakeFeed02=function(e,t){Object.keys(t).forEach(function(n){e.x===t[n].position.x&&e.y===t[n].position.y&&(o.snakeGrow02(),delete t[n],o.setState({foodStack:t}))})},o.snakeGrow01=function(){var e=m({},o.state.positionStack01),t=Object.keys(e).length,n=e[t-1];e[t]={x:n.x,y:n.y},o.setState({positionStack01:e})},o.snakeGrow02=function(){var e=m({},o.state.positionStack02),t=Object.keys(e).length,n=e[t-1];e[t]={x:n.x,y:n.y},o.setState({positionStack02:e})},o.foodOnSnake01=function(e,t){Object.keys(t).forEach(function(o){e.position.x!==t[o].x||(e.position.y,t[o].y)})},o.foodOnSnake02=function(e,t){Object.keys(t).forEach(function(o){e.position.x!==t[o].x||(e.position.y,t[o].y)})},o.foodOnFood=function(e,t){Object.keys(t).forEach(function(o){e.position.x!==t[o].position.x||(e.position.y,t[o].position.y)})},o.selfCollision=function(e,t){Object.keys(t).forEach(function(n){e.x===t[n].x&&e.y===t[n].y&&o.gameOver()})},o.withOtherCollision=function(e,t){Object.keys(t).forEach(function(n){e.x===t[n].x&&e.y===t[n].y&&o.gameOver()})},o.borderCollision=function(e){var n=-t._cell,a=t.calcFieldHeight,r=-t._cell,i=t.calcFieldWidth;(e.x<=r||e.x>=i||e.y<=n||e.y>=a)&&o.gameOver()},o.gamePaused=function(){if(!o.state.gamePaused)return o.setState({gamePaused:!0}),clearInterval(o.intervalSnake01),clearInterval(o.intervalSnake02),clearInterval(o.intervalFood),a.a.createElement(S,null);o.setState({gamePaused:!1}),o.intervalSnake01=setInterval(o.move01,500),o.intervalSnake02=setInterval(o.move02,500),o.intervalFood=setInterval(o.foodQueue,1e3)},o.gameOver=function(){clearInterval(o.intervalSnake01),clearInterval(o.intervalSnake02),clearInterval(o.intervalFood),o.setState({stateRestart:!0})},o.changePosition01=function(e){var t=m({},o.state.foodStack);o.snakeFeed01(e,t);var n=m({},o.state.positionStack01);o.withOtherCollision(e,o.state.positionStack02),o.selfCollision(e,n),o.borderCollision(e);for(var a=Object.keys(n).length-1;a>=1;a--){n[a]={};var r=n[a],i=n[a-1];r.x=i.x,r.y=i.y}n[0].x=e.x,n[0].y=e.y,o.setState({positionStack01:n})},o.changePosition02=function(e){var t=m({},o.state.foodStack);o.snakeFeed02(e,t);var n=m({},o.state.positionStack02);o.withOtherCollision(e,o.state.positionStack01),o.selfCollision(e,n),o.borderCollision(e);for(var a=Object.keys(n).length-1;a>=1;a--){n[a]={};var r=n[a],i=n[a-1];r.x=i.x,r.y=i.y}n[0].x=e.x,n[0].y=e.y,o.setState({positionStack02:n})},o.handleInput01=function(e){if(("ArrowUp"!==e.code||"ArrowDown"!==o.state.vector01)&&("ArrowDown"!==e.code||"ArrowUp"!==o.state.vector01)&&("ArrowLeft"!==e.code||"ArrowRight"!==o.state.vector01)&&("ArrowRight"!==e.code||"ArrowLeft"!==o.state.vector01))return"Space"===e.code?o.gamePaused():void("ArrowUp"!==e.code&&"ArrowDown"!==e.code&&"ArrowLeft"!==e.code&&"ArrowRight"!==e.code||o.setState({vector01:e.code}))},o.handleInput02=function(e){"KeyW"===e.code&&"KeyS"===o.state.vector02||"KeyS"===e.code&&"KeyW"===o.state.vector02||"KeyA"===e.code&&"KeyD"===o.state.vector02||"KeyD"===e.code&&"KeyA"===o.state.vector02||"KeyW"!==e.code&&"KeyS"!==e.code&&"KeyA"!==e.code&&"KeyD"!==e.code||o.setState({vector02:e.code})},o.move01=function(){var e=o.state.positionStack01[0];"ArrowUp"===o.state.vector01&&o.changePosition01({x:e.x,y:e.y-t._cell}),"ArrowDown"===o.state.vector01&&o.changePosition01({x:e.x,y:e.y+t._cell}),"ArrowLeft"===o.state.vector01&&o.changePosition01({x:e.x-t._cell,y:e.y}),"ArrowRight"===o.state.vector01&&o.changePosition01({x:e.x+t._cell,y:e.y})},o.move02=function(){var e=o.state.positionStack02[0];"KeyW"===o.state.vector02&&o.changePosition02({x:e.x,y:e.y-t._cell}),"KeyS"===o.state.vector02&&o.changePosition02({x:e.x,y:e.y+t._cell}),"KeyA"===o.state.vector02&&o.changePosition02({x:e.x-t._cell,y:e.y}),"KeyD"===o.state.vector02&&o.changePosition02({x:e.x+t._cell,y:e.y})},o.renderField=function(){return a.a.createElement("div",{className:"wrapper",style:{width:t.calcFieldWidth,height:t.calcFieldHeight}},a.a.createElement("div",null,o.renderFood()),a.a.createElement("div",{className:"boxes01"},o.renderBoxes01()),a.a.createElement("div",{className:"boxes02"},o.renderBoxes02()))},o.renderBoxes01=function(){var e=o.state.positionStack01;return Object.keys(e).map(function(o){return a.a.createElement(v,{key:o,movingBox:e[o],boxSize:t._cell})})},o.renderBoxes02=function(){var e=o.state.positionStack02;return Object.keys(e).map(function(o){return a.a.createElement(y,{key:o,movingBox:e[o],boxSize:t._cell})})},o.destroy=function(e){var t=m({},o.state.foodStack);delete t[e],o.setState({foodStack:t})},o.renderFood=function(){var e=o.state.foodStack;return Object.keys(e).map(function(n){return a.a.createElement(p,{key:n,food:e[n],destroy:o.destroy,timeDestroy:20,foodSize:t._cell})})},o}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,this.renderField(),this.getRestart())}}]),t}(a.a.Component);O._cell=15,O.countSnake=4,O.height=window.innerHeight,O.width=window.innerWidth,O.calcFieldHeight=Math.floor((O.height-2*O._cell)/O._cell)*O._cell-O._cell,O.calcFieldWidth=Math.floor((O.width-2*O._cell)/O._cell)*O._cell-O._cell,O.randomizerFood=function(){return{x:Math.floor(Math.floor(Math.random()*O.calcFieldWidth)/O._cell)*O._cell,y:Math.floor(Math.floor(Math.random()*O.calcFieldHeight)/O._cell)*O._cell}},O.randomizerSnake=function(){return{x:Math.floor(Math.floor(Math.random()*(O.calcFieldWidth-4*O._cell)+2*O._cell)/O._cell)*O._cell,y:Math.floor(Math.floor(Math.random()*(O.calcFieldHeight-4*O._cell)+2*O._cell)/O._cell)*O._cell}},O.startPosition01=function(e,t){for(var o={0:O.randomizerSnake()},n=1;n<t;n++){var a=o[n-1],r={x:a.x,y:a.y};o[n]=r}return o},O.startPosition02=function(e,t){for(var o={0:O.randomizerSnake()},n=1;n<t;n++){var a=o[n-1],r={x:a.x,y:a.y};o[n]=r}return o},O.generateFood=function(){var e=Date.now(),t={};return t.id=e,t.position=O.randomizerFood(),t};var x=O,b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(x,null)}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.088c30d0.chunk.js.map