(window["webpackJsonpmoving-box"]=window["webpackJsonpmoving-box"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(7),i=n.n(r),c=(n(14),n(1)),l=n(2),s=n(4),d=n(3),u=n(5),v=(n(15),n(8)),f=(n(16),n(17),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.movingBox.y+"px",t=this.props.movingBox.x+"px",n=this.props.boxSize-4;return a.a.createElement("div",{className:"box-01",style:{left:t,top:e,height:n,width:n}})}}]),t}(a.a.Component)),p=(n(18),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.movingBox.y+"px",t=this.props.movingBox.x+"px",n=this.props.boxSize-4;return a.a.createElement("div",{className:"box-02",style:{left:t,top:e,height:n,width:n}})}}]),t}(a.a.Component)),y=(n(19),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).timeoutDestroy=0,n.componentDidMount=function(){n.timeoutDestroy=setTimeout(n.destroy,1e3*n.props.timeDestroy)},n.componentWillUnmount=function(){clearTimeout(n.timeoutDestroy)},n.destroy=function(){n.props.destroy(n.props.food.id)},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.food.position.x,t=this.props.food.position.y+"px",n=e+"px",o=this.props.foodSize-4;return a.a.createElement("div",{className:"food",style:{left:n,top:t,height:o,width:o}})}}]),t}(a.a.Component)),h=(n(20),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).restartClick=function(e){n.props.setStateRestart(!1)},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"restart-box"},a.a.createElement("div",null,"GAME OVER"),a.a.createElement("div",{className:"button-restart",onClick:this.restartClick},"Restart"))}}]),t}(a.a.Component)),m=(n(21),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"pause"},"PAUSE")}}]),t}(a.a.Component)),S=(n(22),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).startClick=function(e){console.log(n.props),n.props.setStateStart(!1),console.log(n.props)},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"splash"},a.a.createElement("div",null,"Snake Game"),a.a.createElement("div",null,"Control"),a.a.createElement("div",{className:"control"},a.a.createElement("div",null,a.a.createElement("div",{className:"orange-snake"}),a.a.createElement("div",{className:"orange-snake"}),a.a.createElement("div",{className:"orange-snake"}),a.a.createElement("div",{className:"orange-snake"})),a.a.createElement("div",null,a.a.createElement("div",null,"W"),a.a.createElement("div",null,"S"),a.a.createElement("div",null,"A"),a.a.createElement("div",null,"D")),a.a.createElement("div",null,a.a.createElement("div",null,"Up"),a.a.createElement("div",null,"Down"),a.a.createElement("div",null,"Left"),a.a.createElement("div",null,"Right")),a.a.createElement("div",null,a.a.createElement("div",null,"\u2191"),a.a.createElement("div",null,"\u2193"),a.a.createElement("div",null,"\u2190"),a.a.createElement("div",null,"\u2192")),a.a.createElement("div",null,a.a.createElement("div",{className:"green-snake"}),a.a.createElement("div",{className:"green-snake"}),a.a.createElement("div",{className:"green-snake"}),a.a.createElement("div",{className:"green-snake"}))),a.a.createElement("div",{className:"start",onClick:this.startClick},"START"))}}]),t}(a.a.Component));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){Object(v.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).intervalSnake01=0,n.intervalSnake02=0,n.intervalFood=0,n.state={positionStack01:{},positionStack02:{},vector01:"",vector02:"",stateStart:!0,stateRestart:!1,gamePaused:!1,foodStack:{}},n.foodQueue=function(){var e=t.generateFood(),o=n.state.foodStack;if(n.foodOnSnake01(e,n.state.positionStack01)&&(e=t.generateFood(),n.foodOnSnake01(e,n.state.positionStack01)))return null;if(n.foodOnSnake02(e,n.state.positionStack02)&&(e=t.generateFood(),n.foodOnSnake02(e,n.state.positionStack02)))return null;if(n.foodOnFood(e,o)&&(e=t.generateFood(),n.foodOnFood(e,o)))return null;var a=Object.assign({},o);a[e.id]=e,n.setState({foodStack:a})},n.componentDidMount=function(){n.getStart(),window.addEventListener("keydown",n.handleInput01,!0),window.addEventListener("keydown",n.handleInput02,!0)},n.setStateStart=function(e){n.setState({stateStart:e}),n.initSnake01(),n.initSnake02()},n.getStart=function(){return n.state.stateStart?a.a.createElement(S,{setStateStart:n.setStateStart}):null},n.setStateRestart=function(e){n.setState({stateRestart:e,foodStack:{}}),n.initSnake01(),n.initSnake02()},n.getRestart=function(){return n.state.stateRestart?a.a.createElement(h,{setStateRestart:n.setStateRestart}):null},n.initSnake01=function(){n.setState({positionStack01:t.startPosition01(t._cell,t.countSnake),vector01:""});var e=Math.floor(4*Math.random())+1;1===e&&n.setState({vector01:"ArrowUp"}),2===e&&n.setState({vector01:"ArrowDown"}),3===e&&n.setState({vector01:"ArrowLeft"}),4===e&&n.setState({vector01:"ArrowRight"}),n.intervalSnake01=setInterval(n.move01,500),n.intervalFood=setInterval(n.foodQueue,1e3)},n.initSnake02=function(){n.setState({positionStack02:t.startPosition02(t._cell,t.countSnake),vector02:""});var e=Math.floor(4*Math.random())+1;1===e&&n.setState({vector02:"KeyW"}),2===e&&n.setState({vector02:"KeyS"}),3===e&&n.setState({vector02:"KeyA"}),4===e&&n.setState({vector02:"KeyD"}),n.intervalSnake02=setInterval(n.move02,500)},n.snakeFeed01=function(e,t){Object.keys(t).forEach(function(o){e.x===t[o].position.x&&e.y===t[o].position.y&&(n.snakeGrow01(),delete t[o],n.setState({foodStack:t}))})},n.snakeFeed02=function(e,t){Object.keys(t).forEach(function(o){e.x===t[o].position.x&&e.y===t[o].position.y&&(n.snakeGrow02(),delete t[o],n.setState({foodStack:t}))})},n.snakeGrow01=function(){var e=O({},n.state.positionStack01),t=Object.keys(e).length,o=e[t-1];e[t]={x:o.x,y:o.y},n.setState({positionStack01:e})},n.snakeGrow02=function(){var e=O({},n.state.positionStack02),t=Object.keys(e).length,o=e[t-1];e[t]={x:o.x,y:o.y},n.setState({positionStack02:e})},n.foodOnSnake01=function(e,t){Object.keys(t).forEach(function(n){e.position.x!==t[n].x||(e.position.y,t[n].y)})},n.foodOnSnake02=function(e,t){Object.keys(t).forEach(function(n){e.position.x!==t[n].x||(e.position.y,t[n].y)})},n.foodOnFood=function(e,t){Object.keys(t).forEach(function(n){e.position.x!==t[n].position.x||(e.position.y,t[n].position.y)})},n.selfCollision=function(e,t){Object.keys(t).forEach(function(o){e.x===t[o].x&&e.y===t[o].y&&n.gameOver()})},n.withOtherCollision=function(e,t){Object.keys(t).forEach(function(o){e.x===t[o].x&&e.y===t[o].y&&n.gameOver()})},n.borderCollision=function(e){var o=-t._cell,a=t.calcFieldHeight,r=-t._cell,i=t.calcFieldWidth;(e.x<=r||e.x>=i||e.y<=o||e.y>=a)&&n.gameOver()},n.gamePaused=function(){if(!n.state.gamePaused)return n.setState({gamePaused:!0}),clearInterval(n.intervalSnake01),clearInterval(n.intervalSnake02),clearInterval(n.intervalFood),a.a.createElement(m,null);n.setState({gamePaused:!1}),n.intervalSnake01=setInterval(n.move01,500),n.intervalSnake02=setInterval(n.move02,500),n.intervalFood=setInterval(n.foodQueue,1e3)},n.gameOver=function(){clearInterval(n.intervalSnake01),clearInterval(n.intervalSnake02),clearInterval(n.intervalFood),n.setState({stateRestart:!0})},n.changePosition01=function(e){var t=O({},n.state.foodStack);n.snakeFeed01(e,t);var o=O({},n.state.positionStack01);n.withOtherCollision(e,n.state.positionStack02),n.selfCollision(e,o),n.borderCollision(e);for(var a=Object.keys(o).length-1;a>=1;a--){o[a]={};var r=o[a],i=o[a-1];r.x=i.x,r.y=i.y}o[0].x=e.x,o[0].y=e.y,n.setState({positionStack01:o})},n.changePosition02=function(e){var t=O({},n.state.foodStack);n.snakeFeed02(e,t);var o=O({},n.state.positionStack02);n.withOtherCollision(e,n.state.positionStack01),n.selfCollision(e,o),n.borderCollision(e);for(var a=Object.keys(o).length-1;a>=1;a--){o[a]={};var r=o[a],i=o[a-1];r.x=i.x,r.y=i.y}o[0].x=e.x,o[0].y=e.y,n.setState({positionStack02:o})},n.handleInput01=function(e){if(("ArrowUp"!==e.code||"ArrowDown"!==n.state.vector01)&&("ArrowDown"!==e.code||"ArrowUp"!==n.state.vector01)&&("ArrowLeft"!==e.code||"ArrowRight"!==n.state.vector01)&&("ArrowRight"!==e.code||"ArrowLeft"!==n.state.vector01))return"Space"===e.code?n.gamePaused():void("ArrowUp"!==e.code&&"ArrowDown"!==e.code&&"ArrowLeft"!==e.code&&"ArrowRight"!==e.code||n.setState({vector01:e.code}))},n.handleInput02=function(e){"KeyW"===e.code&&"KeyS"===n.state.vector02||"KeyS"===e.code&&"KeyW"===n.state.vector02||"KeyA"===e.code&&"KeyD"===n.state.vector02||"KeyD"===e.code&&"KeyA"===n.state.vector02||"KeyW"!==e.code&&"KeyS"!==e.code&&"KeyA"!==e.code&&"KeyD"!==e.code||n.setState({vector02:e.code})},n.move01=function(){var e=n.state.positionStack01[0];"ArrowUp"===n.state.vector01&&n.changePosition01({x:e.x,y:e.y-t._cell}),"ArrowDown"===n.state.vector01&&n.changePosition01({x:e.x,y:e.y+t._cell}),"ArrowLeft"===n.state.vector01&&n.changePosition01({x:e.x-t._cell,y:e.y}),"ArrowRight"===n.state.vector01&&n.changePosition01({x:e.x+t._cell,y:e.y})},n.move02=function(){var e=n.state.positionStack02[0];"KeyW"===n.state.vector02&&n.changePosition02({x:e.x,y:e.y-t._cell}),"KeyS"===n.state.vector02&&n.changePosition02({x:e.x,y:e.y+t._cell}),"KeyA"===n.state.vector02&&n.changePosition02({x:e.x-t._cell,y:e.y}),"KeyD"===n.state.vector02&&n.changePosition02({x:e.x+t._cell,y:e.y})},n.renderField=function(){return a.a.createElement("div",{className:"wrapper",style:{width:t.calcFieldWidth,height:t.calcFieldHeight}},a.a.createElement("div",null,n.renderFood()),a.a.createElement("div",{className:"boxes01"},n.renderBoxes01()),a.a.createElement("div",{className:"boxes02"},n.renderBoxes02()))},n.renderBoxes01=function(){var e=n.state.positionStack01;return Object.keys(e).map(function(n){return a.a.createElement(f,{key:n,movingBox:e[n],boxSize:t._cell})})},n.renderBoxes02=function(){var e=n.state.positionStack02;return Object.keys(e).map(function(n){return a.a.createElement(p,{key:n,movingBox:e[n],boxSize:t._cell})})},n.destroy=function(e){var t=O({},n.state.foodStack);delete t[e],n.setState({foodStack:t})},n.renderFood=function(){var e=n.state.foodStack;return Object.keys(e).map(function(o){return a.a.createElement(y,{key:o,food:e[o],destroy:n.destroy,timeDestroy:20,foodSize:t._cell})})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,this.renderField(),this.getRestart(),this.getStart())}}]),t}(a.a.Component);g._cell=15,g.countSnake=4,g.height=window.innerHeight,g.width=window.innerWidth,g.calcFieldHeight=Math.floor((g.height-2*g._cell)/g._cell)*g._cell-g._cell,g.calcFieldWidth=Math.floor((g.width-2*g._cell)/g._cell)*g._cell-g._cell,g.randomizerFood=function(){return{x:Math.floor(Math.floor(Math.random()*g.calcFieldWidth)/g._cell)*g._cell,y:Math.floor(Math.floor(Math.random()*g.calcFieldHeight)/g._cell)*g._cell}},g.randomizerSnake=function(){return{x:Math.floor(Math.floor(Math.random()*(g.calcFieldWidth-4*g._cell)+2*g._cell)/g._cell)*g._cell,y:Math.floor(Math.floor(Math.random()*(g.calcFieldHeight-4*g._cell)+2*g._cell)/g._cell)*g._cell}},g.startPosition01=function(e,t){for(var n={0:g.randomizerSnake()},o=1;o<t;o++){var a=n[o-1],r={x:a.x,y:a.y};n[o]=r}return n},g.startPosition02=function(e,t){for(var n={0:g.randomizerSnake()},o=1;o<t;o++){var a=n[o-1],r={x:a.x,y:a.y};n[o]=r}return n},g.generateFood=function(){var e=Date.now(),t={};return t.id=e,t.position=g.randomizerFood(),t};var b=g,x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(b,null)}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.1f78c0e9.chunk.js.map